<form [formGroup]="doctorForm" (ngSubmit)="onSubmit()" enctype="multipart/form-data">
<!-- Basic Information -->

<div class="card">
  <div class="card-body">
    <h4 class="card-title">Basic Information</h4>
    <div class="row form-row">
      <div class="col-md-12">
        <div class="form-group">
          <div class="change-avatar">
            <!-- Profile Picture Preview -->
            <div *ngIf="profilePicturePreview">
              <img
                [src]="profilePicturePreview?.toString().startsWith('data') ? profilePicturePreview : 'http://localhost:8083/uploads/profile-pictures/' + profilePicturePreview"
                alt="Profile Picture"
                width="150"
              />
            </div>
            <div class="upload-img">
              <div class="change-photo-btn">
                <span><i class="fa fa-upload"></i> Upload Photo</span>
                <input type="file" class="upload" (change)="onProfilePictureChange($event)">
              </div>
              <small class="form-text text-muted">Allowed JPG, GIF or PNG. Max size of 2MB</small>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label>Username <span class="text-danger">*</span></label>
          <input type="text" class="form-control" formControlName="username" readonly>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label>Email <span class="text-danger">*</span></label>
          <input type="email" class="form-control" formControlName="email" readonly>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label>First Name <span class="text-danger">*</span></label>
          <input type="text" class="form-control" formControlName="firstname">
          <div *ngIf="doctorForm.get('firstname')?.invalid && doctorForm.get('firstname')?.touched" class="text-danger">
            First name is required.
          </div>
        </div>

      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label>Last Name <span class="text-danger">*</span></label>
          <input type="text" class="form-control" formControlName="lastname">
          <div *ngIf="doctorForm.get('lastname')?.invalid && doctorForm.get('lastname')?.touched" class="text-danger">
            Last name is required.
          </div>
        </div>

      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label>Phone Number</label>
          <input type="text" class="form-control" formControlName="phone">
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label>Gender</label>
          <select class="form-control" formControlName="gender">
            <option value="">Select</option>
              <option value="male">Male</option>
            <option value="female">Female</option>
          </select>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group mb-0">
          <label>Date of Birth</label>
          <input type="text" class="form-control" formControlName="dateOfBirth">
        </div>
      </div>
    </div>
  </div>
</div>
<!-- /Basic Information -->

<!-- About Me -->
<div class="card">
  <div class="card-body">
    <h4 class="card-title">About Me</h4>
    <div class="form-group mb-0">
      <label>Biography</label>
      <textarea class="form-control" rows="5" formControlName="aboutMe"></textarea>
    </div>
  </div>
</div>
<!-- /About Me -->

<!-- Clinic Info -->
<div class="card">
  <div class="card-body">
    <h4 class="card-title">Clinic Info</h4>
    <div class="row form-row">
      <div class="col-md-6">
        <div class="form-group">
          <label>Clinic Name</label>
          <input type="text" class="form-control" formControlName="clinicName">
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label>Clinic Address</label>
          <input type="text" class="form-control" formControlName="clinicAddress">
        </div>
      </div>
      <div class="col-md-12">
        <div class="form-group">
          <label>Clinic Images</label>
          <input #clinicFileInput type="file" multiple (change)="onClinicImagesChange($event)">
          <form class="dropzone">
            <div class="upload-wrap">
              <div class="upload-images" *ngFor="let image of clinicImagePreviews; let i = index">
                <img
                  [src]="image?.toString().startsWith('data') ? image : 'http://localhost:8083/uploads/clinic-images/' + image"
                  alt="Clinic Image"
                  class="clinic-image"
                />                <a href="javascript:void(0);" class="btn btn-icon btn-danger btn-sm" (click)="removeClinicImage(i)">
                  <i class="far fa-trash-alt"></i>
                </a>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- /Clinic Info -->

<!-- Contact Details -->
<div class="card contact-card">
  <div class="card-body">
    <h4 class="card-title">Contact Details</h4>
    <div class="row form-row">
      <div class="col-md-6">
        <div class="form-group">
          <label>Address Line 1</label>
          <input type="text" class="form-control" formControlName="clinicName">
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label class="control-label">Address Line 2</label>
          <input type="text" class="form-control">
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label class="control-label">City</label>
          <input type="text" class="form-control">
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label class="control-label">State / Province</label>
          <input type="text" class="form-control">
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label class="control-label">Country</label>
          <input type="text" class="form-control">
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label class="control-label">Postal Code</label>
          <input type="text" class="form-control">
        </div>
      </div>
    </div>
  </div>
</div>
<!-- /Contact Details -->

<!-- Pricing -->
<div class="card">
  <div class="card-body">
    <h4 class="card-title">Pricing</h4>

    <div class="form-group mb-0">
      <div id="pricing_select">
        <div class="custom-control custom-radio custom-control-inline">
          <input type="radio" id="price_free" name="rating_option" class="custom-control-input" value="price_free" checked>
          <label class="custom-control-label" for="price_free">Free</label>
        </div>
        <div class="custom-control custom-radio custom-control-inline">
          <input type="radio" id="price_custom" name="rating_option" value="custom_price" class="custom-control-input">
          <label class="custom-control-label" for="price_custom">Custom Price (per hour)</label>
        </div>
      </div>

    </div>

    <div class="row custom_price_cont" id="custom_price_cont" style="display: none;">
      <div class="col-md-4">
        <input type="text" class="form-control" id="custom_rating_input" name="custom_rating_count" value="" placeholder="20">
        <small class="form-text text-muted">Custom price you can add</small>
      </div>
    </div>

  </div>
</div>
<!-- /Pricing -->

<!-- Services and Specialization -->
<div class="card services-card">
  <div class="card-body">
    <h4 class="card-title">Services and Specialization</h4>
    <div class="form-group">
      <label>Services</label>
      <input type="text" data-role="tagsinput" class="input-tags form-control" placeholder="Enter Services" name="services" value="Tooth cleaning " id="services">
      <small class="form-text text-muted">Note : Type & Press enter to add new services</small>
    </div>
    <div class="form-group mb-0">
      <label>Specialization </label>
      <input class="input-tags form-control" type="text" data-role="tagsinput" placeholder="Enter Specialization" name="specialist" value="Children Care,Dental Care" id="specialist">
      <small class="form-text text-muted">Note : Type & Press  enter to add new specialization</small>
    </div>
  </div>
</div>
<!-- /Services and Specialization -->

  <!-- Education -->
  <div class="card">
    <div class="card-body">
      <h4 class="card-title">Education</h4>
      <div class="education-info" formArrayName="education">
        <div *ngFor="let edu of education.controls; let i = index" [formGroupName]="i" class="row form-row education-cont">
          <div class="col-12 col-md-10 col-lg-11">
            <div class="row form-row">
              <div class="col-12 col-md-6 col-lg-4">
                <div class="form-group">
                  <label>Degree</label>
                  <input type="text" class="form-control" formControlName="degree">
                </div>
              </div>
              <div class="col-12 col-md-6 col-lg-4">
                <div class="form-group">
                  <label>College/Institute</label>
                  <input type="text" class="form-control" formControlName="institute">
                </div>
              </div>
              <div class="col-12 col-md-6 col-lg-4">
                <div class="form-group">
                  <label>Year of Completion</label>
                  <input type="text" class="form-control" formControlName="yearOfCompletion">
                </div>
              </div>
            </div>
          </div>
          <div class="col-12 col-md-2 col-lg-1 d-flex align-items-center">
            <a href="javascript:void(0);" (click)="removeEducation(i)" class="text-danger">
              <i class="fa fa-trash fa-lg"></i>
            </a>
          </div>
        </div>
      </div>
      <div class="add-more">
        <a href="javascript:void(0);" class="add-education" (click)="addEducation()">
          <i class="fa fa-plus-circle"></i> Add More
        </a>
      </div>
    </div>
  </div>
  <!-- /Education -->

  <!-- Experience -->
  <div class="card">
    <div class="card-body">
      <h4 class="card-title">Experience</h4>
      <div class="experience-info" formArrayName="experience">
        <div *ngFor="let exp of experience.controls; let i = index" [formGroupName]="i" class="row form-row experience-cont">
          <div class="col-12 col-md-10 col-lg-11">
            <div class="row form-row">
              <div class="col-12 col-md-6 col-lg-4">
                <div class="form-group">
                  <label>Hospital Name</label>
                  <input type="text" class="form-control" formControlName="hospitalName">
                </div>
              </div>
              <div class="col-12 col-md-6 col-lg-4">
                <div class="form-group">
                  <label>From</label>
                  <input type="text" class="form-control" formControlName="fromDate">
                </div>
              </div>
              <div class="col-12 col-md-6 col-lg-4">
                <div class="form-group">
                  <label>To</label>
                  <input type="text" class="form-control" formControlName="toDate">
                </div>
              </div>
              <div class="col-12 col-md-6 col-lg-4">
                <div class="form-group">
                  <label>Designation</label>
                  <input type="text" class="form-control" formControlName="designation">
                </div>
              </div>
            </div>
          </div>
          <div class="col-12 col-md-2 col-lg-1 d-flex align-items-center">
            <a href="javascript:void(0);" (click)="removeExperience(i)" class="text-danger">
              <i class="fa fa-trash fa-lg"></i>
            </a>
          </div>
        </div>
      </div>
      <div class="add-more">
        <a href="javascript:void(0);" (click)="addExperience()">
          <i class="fa fa-plus-circle"></i> Add More
        </a>
      </div>
    </div>
  </div>
  <!-- /Experience -->


  <!-- Awards -->
  <div class="card">
    <div class="card-body">
      <h4 class="card-title">Awards</h4>
      <div class="awards-info" formArrayName="awards">
        <div *ngFor="let award of awards.controls; let i = index" [formGroupName]="i" class="row form-row awards-cont">
          <div class="col-12 col-md-10 col-lg-11">
            <div class="row form-row">
              <div class="col-12 col-md-6">
                <div class="form-group">
                  <label>Award</label>
                  <input type="text" class="form-control" formControlName="name">
                </div>
              </div>
              <div class="col-12 col-md-6">
                <div class="form-group">
                  <label>Year</label>
                  <input type="text" class="form-control" formControlName="year">
                </div>
              </div>
            </div>
          </div>
          <div class="col-12 col-md-2 col-lg-1 d-flex align-items-center">
            <a href="javascript:void(0);" (click)="removeAward(i)" class="text-danger">
              <i class="fa fa-trash fa-lg"></i>
            </a>
          </div>
        </div>
      </div>
      <div class="add-more">
        <a href="javascript:void(0);" (click)="addAward()">
          <i class="fa fa-plus-circle"></i> Add More
        </a>
      </div>
    </div>
  </div>
  <!-- /Awards -->


<div class="submit-section submit-btn-bottom">
  <button type="submit" class="btn btn-primary submit-btn" [disabled]="doctorForm.invalid">Save Changes</button>
</div>
</form>
